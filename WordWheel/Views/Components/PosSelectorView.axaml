<?xml version="1.0" encoding="UTF-8"?>
<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:WordWheel.ViewModels.StudyView"
             x:Class="WordWheel.Views.Components.PosSelectorView"
             x:Name="Root"
             x:DataType="vm:PosSelectorViewModel">
    <Border Background="#CCC1AA"
            CornerRadius="4"
            Padding="8"
            BorderBrush="Black"
            BorderThickness="1"
            Height="190"
            Width="400">
        <StackPanel Spacing="8">
            <Button Content="Back"
                    Height="28"
                    FontSize="12"
                    FontWeight="Bold"
                    Background="#E6E6E6"
                    BorderBrush="Black"
                    BorderThickness="1"
                    CornerRadius="4"
                    VerticalAlignment="Center"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Command="{Binding DataContext.CloseCommand, ElementName=Root}" />
            <ScrollViewer MaxHeight="135">
                <ItemsControl ItemsSource="{Binding PosOptions}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal"
                                        Margin="4,2"
                                        Spacing="10">
                                <CheckBox IsChecked="{Binding IsSelected}" />
                                <TextBlock Text="{Binding Name}"
                                           Width="120"
                                           VerticalAlignment="Center" />
                                <StackPanel Orientation="Horizontal"
                                            Spacing="10"
                                            IsVisible="{Binding IsSelected}">
                                    <Border Width="40"
                                            Height="25"
                                            Background="#E6E6E6"
                                            BorderBrush="Black"
                                            BorderThickness="1"
                                            CornerRadius="4">
                                        <TextBlock Text="{Binding Count}"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   FontWeight="Bold" />
                                    </Border>
                                    <StackPanel Orientation="Vertical"
                                                VerticalAlignment="Center"
                                                Spacing="1">
                                        <Button Width="24"
                                                Height="14"
                                                Padding="0"
                                                Background="Transparent"
                                                Command="{Binding DataContext.IncreaseCountCommand, ElementName=Root}"
                                                CommandParameter="{Binding}">
                                            <Path Fill="Black"
                                                  Stretch="Uniform"
                                                  VerticalAlignment="Bottom"
                                                  Data="M 0 14 L 12 4 L 24 14 Z" />
                                        </Button>
                                        <Button Width="24"
                                                Height="14"
                                                Padding="0"
                                                Background="Transparent"
                                                Command="{Binding DataContext.DecreaseCountCommand, ElementName=Root}"
                                                CommandParameter="{Binding}">
                                            <Path Fill="Black"
                                                  Stretch="Uniform"
                                                  VerticalAlignment="Top"
                                                  Data="M 0 0 L 12 10 L 24 0 Z" />
                                        </Button>
                                    </StackPanel>
                                    <TextBlock Text="Amount"
                                               VerticalAlignment="Center"
                                               FontSize="14"
                                               FontWeight="Bold" />
                                </StackPanel>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </StackPanel>
    </Border>
</UserControl>